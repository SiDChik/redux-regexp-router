{"version":3,"sources":["../../src/components/Link.js"],"names":["Link","getLink","link","props","to","substr","parentLocation","context","getRouteLocation","getHrefLink","routing","historyType","onClick","ev","preventDefault","dispatch","children","Component","state"],"mappings":";;;;;;;;AAGA;;;;AACA;;AACA;;AACA;;;;;;;;+eANA;;;;;IAOMA,I;;;;;;;;;;;;;;sLACFC,O,GAAU,YAAM;AACZ,gBAAIC,OAAO,MAAKC,KAAL,CAAWC,EAAtB;AACA,gBAAI,MAAKD,KAAL,CAAWC,EAAX,CAAcC,MAAd,CAAqB,CAArB,EAAwB,CAAxB,MAA+B,GAAnC,EAAwC;AACpC,oBAAIC,iBAAkB,MAAKC,OAAL,CAAaC,gBAAb,GAA8B,MAAKD,OAAL,CAAaC,gBAAb,EAA9B,GAA8D,EAApF;AACAN,uBAAOI,iBAAiBJ,IAAxB;AACH;AACD,mBAAOA,IAAP;AACH,S,QAEDO,W,GAAc,YAAM;AAChB,gBAAIP,OAAO,MAAKD,OAAL,EAAX;AACA,gBAAI,MAAKE,KAAL,CAAWO,OAAX,CAAmBC,WAAnB,IAAkC,MAAtC,EAA8CT,OAAO,MAAMA,IAAb;AAC9C,mBAAOA,IAAP;AACH,S,QAEDU,O,GAAU,UAACC,EAAD,EAAQ;AACdA,eAAGC,cAAH;AACA,kBAAKX,KAAL,CAAWY,QAAX,CAAoB,uBAAS,MAAKd,OAAL,EAAT,CAApB;AACH,S;;;;;iCAEQ;AACL,mBAAO;AAAA;AAAA,kBAAG,MAAM,KAAKQ,WAAL,EAAT,EAA6B,SAAS,KAAKG,OAA3C;AAAqD,qBAAKT,KAAL,CAAWa;AAAhE,aAAP;AACH;;;;EAvBc,gBAAMC,S;;AA0BzB,gCAAkBjB,IAAlB;;kBAEe,yBAAQ;AAAA,WAAU,EAACU,SAASQ,MAAMR,OAAhB,EAAV;AAAA,CAAR,EAA6CV,IAA7C,C","file":"Link.js","sourcesContent":["/**\n * Created by sidchik on 28.03.17.\n */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { pushPath } from '../actions/routing';\nimport { addRoutingContext } from '../helpers/context';\nclass Link extends React.Component {\n    getLink = () => {\n        let link = this.props.to;\n        if (this.props.to.substr(0, 1) !== '/') {\n            let parentLocation = (this.context.getRouteLocation?this.context.getRouteLocation():'');\n            link = parentLocation + link;\n        }\n        return link;\n    };\n\n    getHrefLink = () => {\n        let link = this.getLink();\n        if (this.props.routing.historyType == 'hash') link = '#' + link;\n        return link;\n    };\n\n    onClick = (ev) => {\n        ev.preventDefault();\n        this.props.dispatch(pushPath(this.getLink()));\n    };\n\n    render() {\n        return <a href={this.getHrefLink()} onClick={this.onClick}>{this.props.children}</a>\n    }\n}\n\naddRoutingContext(Link);\n\nexport default connect(state => ({routing: state.routing}))(Link);"]}